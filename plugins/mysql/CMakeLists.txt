FIND_FILE(MYSQL_HEADER "mysql.h" PATH_SUFFIXES "mysql")
GET_FILENAME_COMPONENT(MYSQL_HEADER_PATH ${MYSQL_HEADER} PATH)

IF(NOT MYSQL_HEADER)
    MESSAGE(SEND_ERROR "MySQL development headers are required.")
ENDIF()

INCLUDE_DIRECTORIES(${MYSQL_HEADER_PATH})

ADD_LIBRARY(yappi-plugin-mysql MODULE
    mysql.cpp)

TARGET_LINK_LIBRARIES(yappi-plugin-mysql
    mysqlclient)
